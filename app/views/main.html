<div class="row">
    <div class="col-md-12">
        <h1 class="page-header">Dashboard</h1>
        <div class="row placeholders">
            <div class="col-md-2">Total Remittance: ${{totalRemittance| number:0}}</div>
            <div class="col-md-2">Remitannce Goal: {{totalRemittancePercent * 100|number:0}}%</div>
            <div class="col-md-2"># of temples that have met their goal: {{metGoal}}</div>
            <div class="col-md-2"># of temples that are on track: {{onTrack}}</div>
            <div class="col-md-2"># of temples that are behind: {{behind}}</div>
            <div class="col-md-2"># of temples with $0 remittance: {{zeroRemittance}}</div>
        </div>
        <hr>
        <h2 class="sub-header">{{currMonth.label}} 2017</h2>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <select class="form-control" id="current-month" ng-model="currMonth" ng-options="c as c.label for c in months track by c.id" ng-change=updateMonth()></select>
                </div>
                <div class="form-group">
                    <label>Order By:</label>
                    <select class="form-control" data-ng-model="selectedOrder" ng-change="orderUpdate()">
                        <option value="Temple">Temple</option>
                        <option value="Goal2017">2017 Goal</option>
                        <option value="Total">Remittance YTD</option>
                        <option value="PercYear">YTD Goal %</option>
                        <option value="Monthly2017">2017 Monthly Goal</option>
                        <option value="{{monthYear}}">{{currMonth.label}} 2017 Remittance</option>
                        <option value="{{monthPerc}}">{{currMonth.label}} 2017 Goal %</option>
                        <option value="{{monthMOM}}">Month over Month %</option>
                    </select>
                </div>
                <div class="checkbox">
                    <label><input type="checkbox" data-ng-model="isReversed" /> Reverse
                    </label>
                    
                </div>

            </div>
            <div class="col-md-8">
                Total Remittance for {{currMonth.label}}: ${{currMonthRemittance}}
                <br> Number of Temples who submitted: {{currMonthSubmitted}}
                <br> Number of temples who did not: {{currMonthNotSubmitted}}
                <br> Number of temples who hit or exceeded monthly goal: {{currMonthMetGoal}}
                <br> Number of temples who submitted but had % less than 20%: {{currMonthLessThan20}}
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-12">
                <table class="table table-striped">
                    <tr>
                        <th>Temple</th>
                        <th>2017 Yearly Goal</th>
                        <th>Remittance YTD</th>
                        <th>YTD Goal %</th>
                        <th>2017 Monthly Goal</th>
                        <th>{{currMonth.label}} 2017 Remittance</th>
                        <th>{{currMonth.label}} 2017 Goal %</th>
                        <th>Month over Month %</th>
                    </tr>
                    <tr ng-repeat="obj in objs | orderBy:selectedOrder:isReversed">
                        <td>{{obj.Temple}}</td>
                        <td>${{obj["Goal2017"] | number: 0}}</td>
                        <td>${{obj.Total | number: 0}}</td>
                        <td>
                            <div class="progress">
                                <div class="progress-bar" ng-class="getProgressBarClass(obj.PercYear)" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width:{{obj.PercYear*100|number:0}}%;">
                                    {{obj.PercYear*100 | number:0}}%
                                </div>
                            </div>
                        </td>
                        <td>${{obj["Monthly2017"] | number: 0}}</td>
                        <td>${{obj[monthYear] | number: 0}}</td>
                        <td>
                            <div class="progress">
                                <div class="progress-bar" ng-class="getProgressBarClass(obj[monthPerc])" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="min-width: 2em; width:{{obj[monthPerc] > 1 ? 100 :obj[monthPerc]*100|number:0}}%;">
                                    {{obj[monthPerc] *100 | number:0}}%
                                </div>
                            </div>
                        </td>
                        <td>{{obj[monthMOM]}} </td>
                    </tr>

                </table>

                <!--
                <table id="contents" style="width:100%; height:400px;" border>
                </table>
-->
            </div>
        </div>

    </div>
</div>